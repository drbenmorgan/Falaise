#@config Configuration for the SuperNEMO demonstrator geometry manager (snemo::demonstrator v. 4.0)
setup_label : string = "snemo::demonstrator"
setup_description : string = "SuperNEMO demonstrator module"
setup_version : string = "4.0"
factory.logging.priority : string = "fatal"
build_mapping : boolean = true
mapping.max_depth : integer = 0
plugins.force_initialization_at_load : boolean = true

# Models, mappings and plugins for "Basic" geometry
#@variant_if geometry:layout/if_basic|true
  factory.geom_lists : string[4] as path = \
    "@falaise:snemo/demonstrator/geometry/models/source_geom_models.lis" \
    "@falaise:snemo/demonstrator/geometry/models/tracker_geom_models.lis" \
    "@falaise:snemo/demonstrator/geometry/models/calorimeter_geom_models.lis" \
    "@falaise:snemo/demonstrator/geometry/models/basic_setup_geom_models.lis"

  id_mgr.categories_lists : string[4] as path = \
    "@falaise:snemo/demonstrator/geometry/mapping/setup_categories.lis" \
    "@falaise:snemo/demonstrator/geometry/mapping/calorimeter_categories.lis" \
    "@falaise:snemo/demonstrator/geometry/mapping/tracker_categories.lis" \
    "@falaise:snemo/demonstrator/geometry/mapping/source_categories.lis"

  # Mag field only present in if_basic
  # Annoyingly, have to declare both in variant blocks because we can
  # only define a property once...
  #@variant_only geometry:layout/if_basic/magnetic_field/is_active|true
    plugins.configuration_files : string[3] as path = \
      "@falaise:snemo/demonstrator/geometry/plugins/MaterialsPlugin.conf" \
      "@falaise:snemo/demonstrator/geometry/plugins/LocatorPlugin.conf" \
      "@falaise:snemo/demonstrator/geometry/plugins/MagneticFieldPlugin.conf"

  #@variant_only geometry:layout/if_basic/magnetic_field/is_inactive|false
    plugins.configuration_files : string[2] as path = \
      "@falaise:snemo/demonstrator/geometry/plugins/MaterialsPlugin.conf" \
      "@falaise:snemo/demonstrator/geometry/plugins/LocatorPlugin.conf"
#@variant_endif geometry:layout/if_basic


# Models, mappings and plugins for "HalfCommissioning" geometry
#@variant_if geometry:layout/if_half_commissioning|false
  factory.geom_lists : string[3] as path = \
    "@falaise:snemo/demonstrator/geometry/models/tracker_geom_models.lis" \
    "@falaise:snemo/demonstrator/geometry/models/calorimeter_geom_models.lis" \
    "@falaise:snemo/demonstrator/geometry/models/half_commissioning_setup_geom_models.lis"
  id_mgr.categories_lists : string[4] as path = \
    "@falaise:snemo/demonstrator/geometry/mapping/setup_categories.lis" \
    "@falaise:snemo/demonstrator/geometry/mapping/calorimeter_categories.lis" \
    "@falaise:snemo/demonstrator/geometry/mapping/tracker_categories.lis" \
    "@falaise:snemo/demonstrator/geometry/mapping/half_commissioning_categories.lis"
  plugins.configuration_files : string[2] as path = \
    "@falaise:snemo/demonstrator/geometry/plugins/MaterialsPlugin.conf" \
    "@falaise:snemo/demonstrator/geometry/plugins/LocatorPlugin.conf"
#@variant_endif geometry:layout/if_half_commissioning

