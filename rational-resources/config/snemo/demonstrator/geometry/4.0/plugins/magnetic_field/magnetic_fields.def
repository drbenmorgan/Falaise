# -*- mode: conf-unix; -*-
# @falaise:config/snemo/demonstrator/geometry/4.0/plugins/magnetic_field/magnetic_fields.conf
# Definition of EM fields (format: datatools::multi_properties):

#@description Definition parameters for some magnetic fields usable in the SuperNEMO setup
#@key_label   "name"
#@meta_label  "type"

# #@variant_devel

##########################################################
[name="Bz_uniform" type="emfield::uniform_magnetic_field"]
#@variant_section_only geometry:layout/if_basic/magnetic_field/is_active/type/if_uniform_vertical|true

# #@variant_devel

#@config Configuration parameters for the magnetic field generated by a coil

#@description Default implicit magnetic field unit
magnetic_field.unit : string = "gauss"

#@description Magnetic field magnitude (|Bz|)
magnetic_field.magnitude : real = \
  @variant(geometry:layout/if_basic/magnetic_field/is_active/type/if_uniform_vertical/magnitude|25.0 gauss)

#@description Magnetic field direction
magnetic_field.axis : string = \
  @variant(geometry:layout/if_basic/magnetic_field/is_active/type/if_uniform_vertical/direction|"+z")


###############################################################
[name="B_mapped" type="snemo::geometry::mapped_magnetic_field"]
#@variant_section_only geometry:layout/if_basic/magnetic_field/is_active/type/if_mapped|false

# #@variant_devel

#@config Configuration parameters for the mapped magnetic field generated by a coil

#@description Mapping mode
mapping_mode : string = "import_csv_map_0"

#@description Map file
#@variant_only geometry:layout/if_basic/magnetic_field/is_active/type/if_mapped/map/if_map0|true
map_file : string as path = "@falaise:config/snemo/demonstrator/geometry/4.0/plugins/magnetic_field/data/csv_map_0/MapSmoothPlusDetail.csv"

#@variant_only geometry:layout/if_basic/magnetic_field/is_active/type/if_mapped/map/if_user|false
map_file : string as path = @variant(geometry:layout/if_basic/magnetic_field/is_active/type/if_mapped/map/if_user/map_file|"")

#@description Force B=0 outside the mapped domain
zero_field_outside_map : boolean = true

#@description Flag to invert the Z component of the B field
z_inverted : boolean = @variant(geometry:layout/if_basic/magnetic_field/is_active/type/if_mapped/z_inverted|false)


# end of @falaise:config/snemo/demonstrator/geometry/4.0/plugins/magnetic_field/magnetic_fields.conf
